<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Pharmacies - Raha Health App</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary: #3498db;
            --primary-dark: #2874a6;
            --white: #ffffff;
            --gray: #f5f7fa;
            --dark: #2c3e50;
            --light-gray: #e9ecef;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --text-muted: #6c757d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background-color: var(--gray);
            color: var(--dark);
            padding-bottom: 80px;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px 0;
        }

        /* Header */
        .pharmacy-header {
            background-color: var(--white);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .search-container {
            display: flex;
            align-items: center;
            background: var(--gray);
            border-radius: 30px;
            padding: 8px 15px;
            margin: 0 10px;
            border: 1px solid var(--light-gray);
        }

        .search-container input {
            flex: 1;
            border: none;
            background: transparent;
            padding: 10px;
            font-size: 16px;
            outline: none;
        }

        .search-container i {
            color: var(--primary);
            font-size: 18px;
        }

        /* Pharmacy List */
        .pharmacy-list {
            margin-top: 20px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .section-title i {
            margin-right: 10px;
            color: var(--primary);
        }

        .pharmacy-card {
            background: var(--white);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
            transition: transform 0.3s;
         
        }

        .pharmacy-card:hover {
            transform: translateY(-3px);
        }

        .pharmacy-image {
            height: 180px;
            background-color: var(--light-gray);
            position: relative;
            overflow: hidden;
        }

        .pharmacy-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .pharmacy-status {
            position: absolute;
            top: 10px;
            left: 10px;
            background: var(--success);
            color: white;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }

        .pharmacy-details {
            padding: 15px;
        }

        .pharmacy-name {
            font-weight: 600;
            font-size: 18px;
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
        }

        .pharmacy-rating {
            background: var(--success);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            display: flex;
            align-items: center;
        }

        .pharmacy-rating i {
            font-size: 10px;
            margin-right: 3px;
        }

        .pharmacy-info {
            color: var(--text-muted);
            font-size: 14px;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
        }

        .pharmacy-info i {
            margin-right: 5px;
            font-size: 12px;
        }

        .pharmacy-distance {
            font-size: 13px;
            color: var(--text-muted);
            margin-top: 8px;
        }

        /* Medicine Section (Hidden Initially) */
        .medicine-section {
            display: none;
            margin-top: 20px;
        }

        .back-button {
            display: flex;
            align-items: center;
            color: var(--primary);
            margin-bottom: 15px;
            font-weight: 500;
            cursor: pointer;
        }

        .back-button i {
            margin-right: 8px;
        }

        .medicine-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }

        .medicine-card {
            background: var(--white);
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .medicine-name {
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 5px;
        }

        .medicine-desc {
            color: var(--text-muted);
            font-size: 14px;
            margin-bottom: 10px;
        }

        .medicine-price {
            font-weight: 700;
            color: var(--primary);
            font-size: 16px;
            margin-bottom: 10px;
        }

        .add-to-cart {
            width: 100%;
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 8px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .add-to-cart i {
            font-size: 14px;
        }

        /* Bottom Navigation */
        .navbar-container {
            position: fixed;
            bottom: 25px;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 400px;
            z-index: 1000;
            padding: 0 10px;
        }

        .navbar {
            background-color: var(--white);
            border-radius: 30px;
            display: flex;
            justify-content: space-around;
            padding: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .nav-link {
            text-decoration: none;
            color: #666;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 5px 10px;
            position: relative;
            transition: color 0.3s;
        }

        .nav-icon {
            font-size: 20px;
            margin-bottom: 3px;
        }

        .nav-text {
            font-size: 12px;
            font-weight: 500;
        }

        .nav-link.active {
            color: var(--primary);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="pharmacy-header">
        <div class="search-container">
            <input type="text" placeholder="Search for pharmacies..." id="searchInput">
            <i class="fas fa-search"></i>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <!-- Pharmacy List (Default View) -->
        <div class="pharmacy-list" id="pharmacyList">
            <h2 class="section-title"><i class="fas fa-store"></i> Nearby Pharmacies</h2>
            
            <!-- Pharmacy cards will be inserted here by JavaScript -->
            <div class="loading-text">Loading pharmacies...</div>
        </div>

        <!-- Medicine Section (Hidden Initially) -->
        <div class="medicine-section" id="medicineSection">
            <div class="back-button" id="backButton">
                <i class="fas fa-arrow-left"></i> Back to pharmacies
            </div>
            <h2 class="section-title"><i class="fas fa-pills"></i> Available Medicines</h2>
            
            <div class="medicine-grid" id="medicineGrid">
                <!-- Medicine cards will be inserted here by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="navbar-container">
        <div class="navbar">
            <a href="index.html" class="nav-link">
                <i class="fas fa-home nav-icon"></i>
                <span class="nav-text">Home</span>
            </a>
            <a href="profile.html" class="nav-link">
                <i class="fas fa-user nav-icon"></i>
                <span class="nav-text">Profile</span>
            </a>
            <a href="pharmacy.html" class="nav-link active">
                <i class="fas fa-prescription-bottle-alt nav-icon"></i>
                <span class="nav-text">Pharmacy</span>
            </a>
            <a href="orders.html" class="nav-link">
                <i class="fas fa-clipboard-list nav-icon"></i>
                <span class="nav-text">Orders</span>
            </a>
        </div>
    </div>

    <script>
        // Sample pharmacy data
        const pharmacies = [
            {
                id: 1,
                name: "Raha Health Pharmacy",
                image: "https://images.unsplash.com/photo-1607619056574-7b8d3ee536b2?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",
                rating: 4.8,
                address: "123 Health Street, Medical City",
                distance: "0.5 km away",
                deliveryTime: "15-20 min delivery",
                status: "Open Now",
                medicines: [
                    {
                        id: 101,
                        name: "Paracetamol 500mg",
                        description: "Pain reliever and fever reducer",
                        price: "$5.99",
                        stock: 50
                    },
                    {
                        id: 102,
                        name: "Vitamin C 1000mg",
                        description: "Immune system support tablets",
                        price: "$8.49",
                        stock: 30
                    },
                    {
                        id: 103,
                        name: "Ibuprofen 200mg",
                        description: "Anti-inflammatory pain reliever",
                        price: "$6.99",
                        stock: 40
                    }
                ]
            },
            {
                id: 2,
                name: "City Medical Store",
                image: "https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",
                rating: 4.5,
                address: "456 Wellness Avenue, Health Town",
                distance: "1.2 km away",
                deliveryTime: "20-25 min delivery",
                status: "Open Now",
                medicines: [
                    {
                        id: 201,
                        name: "Cough Syrup",
                        description: "For dry cough relief",
                        price: "$7.99",
                        stock: 25
                    },
                    {
                        id: 202,
                        name: "Antacid Tablets",
                        description: "For heartburn and acidity",
                        price: "$4.99",
                        stock: 60
                    }
                ]
            },
            {
                id: 3,
                name: "24/7 Emergency Pharmacy",
                image: "https://images.unsplash.com/photo-1579684385127-1ef15d508118?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",
                rating: 4.2,
                address: "789 Care Boulevard, Emergency District",
                distance: "2.0 km away",
                deliveryTime: "30-35 min delivery",
                status: "Open 24/7",
                medicines: [
                    {
                        id: 301,
                        name: "First Aid Kit",
                        description: "Basic medical supplies for emergencies",
                        price: "$15.99",
                        stock: 15
                    },
                    {
                        id: 302,
                        name: "Bandages (Assorted)",
                        description: "Various sizes for wounds",
                        price: "$3.99",
                        stock: 100
                    }
                ]
            }
        ];

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            const pharmacyList = document.getElementById('pharmacyList');
            const medicineSection = document.getElementById('medicineSection');
            const medicineGrid = document.getElementById('medicineGrid');
            const backButton = document.getElementById('backButton');
            const searchInput = document.getElementById('searchInput');

            // Display pharmacies
            function displayPharmacies() {
                // Remove loading text
                const loadingText = pharmacyList.querySelector('.loading-text');
                if (loadingText) loadingText.remove();

                // Create pharmacy cards
                pharmacies.forEach(pharmacy => {
                    const card = document.createElement('div');
                    card.className = 'pharmacy-card';
                    card.innerHTML = `
                        <div class="pharmacy-image">
                            <img src="${pharmacy.image}" alt="${pharmacy.name}">
                            <span class="pharmacy-status">${pharmacy.status}</span>
                        </div>
                        <div class="pharmacy-details">
                            <div class="pharmacy-name">
                                ${pharmacy.name}
                                <span class="pharmacy-rating">
                                    <i class="fas fa-star"></i> ${pharmacy.rating}
                                </span>
                            </div>
                            <div class="pharmacy-info">
                                <i class="fas fa-map-marker-alt"></i> ${pharmacy.address}
                            </div>
                            <div class="pharmacy-info">
                                <i class="fas fa-clock"></i> ${pharmacy.deliveryTime}
                            </div>
                            <div class="pharmacy-distance">${pharmacy.distance}</div>
                        </div>
                    `;
                    
                    // Add click event to show medicines
                    card.addEventListener('click', function() {
                        showMedicines(pharmacy);
                    });
                    
                    pharmacyList.appendChild(card);
                });
            }

            // Show medicines for a pharmacy
            function showMedicines(pharmacy) {
                // Hide pharmacy list
                pharmacyList.style.display = 'none';
                
                // Show medicine section
                medicineSection.style.display = 'block';
                
                // Clear previous medicines
                medicineGrid.innerHTML = '';
                
                // Add medicines
                pharmacy.medicines.forEach(medicine => {
                    const card = document.createElement('div');
                    card.className = 'medicine-card';
                    card.innerHTML = `
                        <div class="medicine-name">${medicine.name}</div>
                        <div class="medicine-desc">${medicine.description}</div>
                        <div class="medicine-price">${medicine.price}</div>
                        <button class="add-to-cart">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    `;
                    medicineGrid.appendChild(card);
                });
            }

            // Back button functionality
            backButton.addEventListener('click', function() {
                medicineSection.style.display = 'none';
                pharmacyList.style.display = 'block';
            });

            // Search functionality
            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                
                // Filter pharmacies
                const filtered = pharmacies.filter(pharmacy => 
                    pharmacy.name.toLowerCase().includes(searchTerm) ||
                    pharmacy.address.toLowerCase().includes(searchTerm)
                );
                
                // Update display
                pharmacyList.innerHTML = '<h2 class="section-title"><i class="fas fa-store"></i> Nearby Pharmacies</h2>';
                
                if (filtered.length === 0) {
                    pharmacyList.innerHTML += '<p>No pharmacies found matching your search</p>';
                } else {
                    filtered.forEach(pharmacy => {
                        const card = document.createElement('div');
                        card.className = 'pharmacy-card';
                        card.innerHTML = `
                            <div class="pharmacy-image">
                                <img src="${pharmacy.image}" alt="${pharmacy.name}">
                                <span class="pharmacy-status">${pharmacy.status}</span>
                            </div>
                            <div class="pharmacy-details">
                                <div class="pharmacy-name">
                                    ${pharmacy.name}
                                    <span class="pharmacy-rating">
                                        <i class="fas fa-star"></i> ${pharmacy.rating}
                                    </span>
                                </div>
                                <div class="pharmacy-info">
                                    <i class="fas fa-map-marker-alt"></i> ${pharmacy.address}
                                </div>
                                <div class="pharmacy-info">
                                    <i class="fas fa-clock"></i> ${pharmacy.deliveryTime}
                                </div>
                                <div class="pharmacy-distance">${pharmacy.distance}</div>
                            </div>
                        `;
                        card.addEventListener('click', function() {
                            showMedicines(pharmacy);
                        });
                        pharmacyList.appendChild(card);
                    });
                }
            });

            // Initial display
            displayPharmacies();
        });
    </script>
</body>
</html>